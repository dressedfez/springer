\RequirePackage{amsthm}
\documentclass[
    [#- if options.reference_style == "default"   -#] default      [#- endif -#]
    [#- if options.reference_style == "apa"       -#] sn-apa       [#- endif -#]
    [#- if options.reference_style == "aps"       -#] sn-aps       [#- endif -#]
    [#- if options.reference_style == "basic"     -#] sn-basic     [#- endif -#]
    [#- if options.reference_style == "chicago"   -#] sn-chicago   [#- endif -#]
    [#- if options.reference_style == "nature"    -#] sn-nature    [#- endif -#]
    [#- if options.reference_style == "mathphys"  -#] sn-mathphys  [#- endif -#]
    [#- if options.reference_style == "vancouver" -#] sn-vancouver [#- endif -#]
    [#- if options.pdf_latex -#]                     , pdflatex    [#- endif -#]
    [#- if options.referee -#]                       , referee     [#- endif -#]
    [#- if options.line_numbers -#]                  , lineno      [#- endif -#]
    [#- if options.numbered_referencing -#]          , Numbered    [#- endif -#]
    [#- if options.formatting == "twocolumn" -#]     , iicol       [#- endif -#]
    ]{sn-jnl}


\usepackage{graphicx}%
\usepackage{multirow}%
\usepackage{amsmath,amssymb,amsfonts}%
\usepackage{amsthm}
\usepackage{mathrsfs}
\usepackage[title]{appendix}
\usepackage{xcolor}
\usepackage{textcomp}
\usepackage{manyfoot}
\usepackage{booktabs}
\usepackage{algorithm}
\usepackage{algorithmicx}
\usepackage{algpseudocode}
\usepackage{listings}


[- IMPORTS -]

\raggedbottom
[#- if options.unnumbered_headings #]
\unnumbered   
[# endif -#]

[#- if options.theorem_style == "one" #]
\theoremstyle{thmstyleone}
[# endif -#]
[#- if options.theorem_style == "two" #]
\theoremstyle{thmstyletwo}
[# endif -#]
[#- if options.theorem_style == "three" #]
\theoremstyle{thmstylethree}
[# endif -#]
[#- if options.theorem_style != "none" #]
[#- if options.theorem_sectionwise_numbering #]
\newtheorem{theorem}{Theorem}[section]
[# else #]
\newtheorem{theorem}{Theorem}
[# endif -#]

[#- if options.proposition_by_theorem_numbering #]
\newtheorem{proposition}[theorem]{Proposition}
[# else #]
\newtheorem{proposition}{Proposition}
[# endif -#]
\newtheorem{example}{Example}
\newtheorem{remark}{Remark}
\newtheorem{definition}{Definition}
[# endif -#]

\begin{document}

\title[[-doc.short_title-]]{[-doc.title-]}

[#- for author in doc.authors #]
[#- if author.corresponding #]
\author*[[- author.affiliations | join(',', 'index') -]]{
    [#- if author.given_name #]\fnm{[-author.given_name-]} [# endif -#]
    [#- if author.surname #]   \sur{[-author.surname-]}    [# endif -#]
    [#- if author.email #]     
        \email{[-author.email-]}
    [# else #]
        \nomail    
    [# endif -#]
    } 
[# else #]
\author[[- author.affiliations | join(',', 'index') -]]{
    [#- if author.given_name #]\fnm{[-author.given_name-]} [# endif -#]
    [#- if author.surname #]   \sur{[-author.surname-]}    [# endif -#]
    [#- if author.email #] 
        \email{[-author.email-]}
    [# else #]
        \nomail
    [# endif -#]
    }     
[# endif -#]
[# endfor -#]

[#- for affiliation in doc.affiliations #]
\affil[[-affiliation.index-]]{
    [#- if affiliation.value.department #]\orgdiv{[-affiliation.value.department-]}[# endif -#]
    [#- if affiliation.value.institution #]\orgname{[-affiliation.value.institution-]}[# endif -#]
    \orgaddress{
        [#- if affiliation.value.address #]\street{[-affiliation.value.address-]}[# endif -#]
        [#- if affiliation.value.city #]\city{[-affiliation.value.city-]}[# endif -#]
        [#- if affiliation.value.postcode #]\postcode{[-affiliation.value.postcode-]}[# endif -#]
        [#- if affiliation.value.state #]\state{[-affiliation.value.state-]}[# endif -#]
        [#- if affiliation.value.country #]\country{[-affiliation.value.country-]}[# endif -#]
    }
}
[# endfor -#]

[#- if parts.abstract -#]
\abstract{
[-parts.abstract-]
}
[#- endif -#]

[#- if doc.keywords #]
\keywords{[- doc.keywords | join(", ") -]}
[# endif -#]


\maketitle

[-CONTENT-]


\backmatter

[#- if parts.supplementary_information #]
\bmhead{Supplementary information}
[-parts.supplementary_information-]
[# endif -#]


[#- if parts.acknowledgments #]
\bmhead{Acknowledgments}
[-parts.acknowledgments-]
[# endif -#]


[#- if parts.declarations #]
\section*{Declarations}
[-parts.declarations-]
[# endif -#]


[#- if parts.appendix #]
\begin{appendices}
[-parts.appendix-]
\end{appendices}
[# endif -#]


[#- if doc.bibliography #]
\bibliography{[- doc.bibliography | join(", ") -]}
[# endif -#]

\end{document}
